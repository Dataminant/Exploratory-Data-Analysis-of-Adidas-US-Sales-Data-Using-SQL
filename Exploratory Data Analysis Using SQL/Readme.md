# Exploratory Data Analysis of Adidas US Sales Dataset Using SQL

# Processes:
Given that the dataset was in Microsoft Excel CSV format, I had to import the CSV file into SQL Server Management Studio (SSMS) in order to perform data cleaning and manipulation to ensure I have an accurate and consistent data, also to improve the quality and reliability of the data for analysis.
 &nbsp;

  &nbsp;
  
## Creating table
```sql
CREATE TABLE Sales (
        retailer  CHARACTER VARYING (255),
	retailer_id INTEGER,
	invoice_date  DATE,
	region CHARACTER VARYING (255),
	state   CHARACTER VARYING (255),
	city  CHARACTER VARYING (255),
	product CHARACTER VARYING (255),
	price_per_unit INTEGER,
	units_sold  NUMERIC,
	total_sales NUMERIC,
	operating_profit NUMERIC,
	operating_margin NUMERIC,
	sales_method CHARACTER VARYING (255)
   
);
```

![Creating table](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/220e807be88d8cc7d379e06c84c243a3d951e76c/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/Creating%20Table.jpg)
 &nbsp;

  &nbsp;
  
## Bulk insert values into table
```sql
--  Bulk insert values into table

BULK INSERT dbo.Sales
FROM 'C:\Users\HP\Desktop\Kaggle_Adidas_US_Sales.csv'
WITH
(

    FORMAT = 'CSV',
	FIRSTROW = 2

)
;

```

![Insert Values into Table](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/6901c8bcadc885646acd4363e22af5dc630a5cd7/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/Bulk%20inserting%20details%20into%20Tabble.jpg)
 &nbsp;

  &nbsp;
  
## Preview of data in the table 
![Preview of data in the table](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/a9fb868305516f58d356644110371db8209d3b63/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/Preview%20of%20dataset.jpg)
 &nbsp;

  &nbsp;
  
## Changing the table name 
```sql
-- Changing the table name 

EXEC sp_rename 'Sales', 'TheDataminant_Sales' ;
```
![Changing the table name](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/5e355d19e691bc4b7a48ef9e82671b34504a6e09/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/Changing%20the%20table%20name%20.jpg)
 &nbsp;

  &nbsp;
  
## Checking for null in dataset
```sql
-- Checking for NULL in the dataset
SELECT 
    SUM(CASE WHEN retailer IS NULL THEN 1 ELSE 0 END) AS retailer_null_count,
    SUM(CASE WHEN retailer_id IS NULL THEN 1 ELSE 0 END) AS retailer_id_null_count,
    SUM(CASE WHEN invoice_date IS NULL THEN 1 ELSE 0 END) AS invoice_date_null_count,
    SUM(CASE WHEN region IS NULL THEN 1 ELSE 0 END) AS region_null_count,
    SUM(CASE WHEN state IS NULL THEN 1 ELSE 0 END) AS state_null_count,
    SUM(CASE WHEN city IS NULL THEN 1 ELSE 0 END) AS city_null_count,
    SUM(CASE WHEN product IS NULL THEN 1 ELSE 0 END) AS product_null_count,
    SUM(CASE WHEN price_per_unit IS NULL THEN 1 ELSE 0 END) AS price_per_unit_null_count,
    SUM(CASE WHEN units_sold IS NULL THEN 1 ELSE 0 END) AS units_sold_null_count,
    SUM(CASE WHEN total_sales IS NULL THEN 1 ELSE 0 END) AS total_sales_null_count,
    SUM(CASE WHEN operating_profit IS NULL THEN 1 ELSE 0 END) AS operating_profit_null_count,
    SUM(CASE WHEN operating_margin IS NULL THEN 1 ELSE 0 END) AS operating_margin_null_count,
    SUM(CASE WHEN sales_method IS NULL THEN 1 ELSE 0 END) AS sales_method_null_count

FROM dbo.TheDataminant_Sales;
```
![Checking for null in dataset](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/5e355d19e691bc4b7a48ef9e82671b34504a6e09/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/Checking%20for%20null%20in%20dataset.jpg)
 &nbsp;

  &nbsp;
  
## Key Questions to Explore

### Sales Analysis

#### What is the total revenue generated?

```sql
-- What is the total revenue generated?

SELECT SUM(total_sales) AS total_sales
FROM dbo.TheDataminant_Sales;
```
![What is the total revenue generated](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/eecadf121dec9b310ccf7276db5a01fb4c1dce9c/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%20total%20revenue%20generated.jpg)
 &nbsp;

  &nbsp;
  
#### What is the total revenue generated by year?
```sql
-- What is the total revenue generated by year?

SELECT DATENAME (YEAR, invoice_date) As 'year', SUM (total_sales) AS total_revenue
FROM dbo.TheDataminant_Sales
GROUP BY DATENAME (YEAR, invoice_date);
```
![What is the total revenue generated by year](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/eecadf121dec9b310ccf7276db5a01fb4c1dce9c/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%20total%20revenue%20generated%20by%20year.jpg)
 &nbsp;

  &nbsp;
  
#### What is the 2nd best sales method by sales total?
```sql
-- What is the 2nd best sales method by sales total?

SELECT  sales_method, SUM(total_sales) AS sales_total
FROM dbo.TheDataminant_Sales
GROUP BY sales_method
ORDER BY SUM(total_sales) DESC
OFFSET 1 ROWS
FETCH FIRST 1 ROWS ONLY;
```
![What is the 2nd best sales method by sales total](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/134122f1ff3f10651479c55b49192294d9db523b/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%202nd%20best%20sales%20method%20by%20sales%20total.jpg)
 &nbsp;

  &nbsp;
  
#### What is the average daily sales value by retailer?
```sql
-- What is the average daily sales value by retailer?

-- 2020
SELECT retailer, ROUND(AVG(total_sales), 0) AS average_daily_sales
FROM dbo.TheDataminant_Sales
WHERE DATENAME (YEAR, invoice_date ) = 2020
GROUP BY retailer
ORDER BY AVG(total_sales) DESC

-- 2021
SELECT retailer, ROUND(AVG(total_sales), 0) AS average_daily_sales
FROM dbo.TheDataminant_Sales
WHERE DATENAME (YEAR, invoice_date ) = 2021
GROUP BY retailer
ORDER BY AVG(total_sales) DESC;
```
![What is the average daily sales value by retailer](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/b2f37418710dc4611060b9020f39e7f5be651e72/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%20average%20daily%20sales%20value%20by%20retailer%20by%20year.jpg)


### Product Analysis

#### What is the top 3 product?
```sql
-- What is the top 3 product?

SELECT TOP 3 product, SUM(total_sales) AS total_sales
FROM dbo.TheDataminant_Sales
GROUP BY product
ORDER BY SUM(total_sales) DESC;
```
![What is the top 3 product](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/b2f37418710dc4611060b9020f39e7f5be651e72/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%20top%203%20product.jpg)

 &nbsp;

  &nbsp;
  
#### Which categories of product are the most popular footwear or apparel?
```sql
-- Which categories of product are the most popular (footwear/apparel)?

SELECT product_by_categories, SUM (units_sold) AS total_units_sold
FROM (
       SELECT 
             CASE WHEN  product LIKE '%Footwear' THEN 'Footwear'
		  WHEN product LIKE '%Apparel' THEN 'Apparel'
             END AS product_by_categories, units_sold
       FROM dbo.TheDataminant_Sales
) 
AS product_by_categories
GROUP BY  product_by_categories
ORDER BY SUM (units_sold) DESC;
```
![Which categories of product are the most popular footwear or apparel?](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/c66a9bcb371e86f01ed5825d4dd1213f94381b52/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/Which%20categories%20of%20product%20are%20the%20most%20popular%20footwear%20or%20apparel.jpg)
 &nbsp;

  &nbsp;
  
#### Which is most purchased between men’s and women’s product?
```sql
-- Which is most purchased between men’s and women’s product?

SELECT product_by_gender, SUM (units_sold) AS total_units_sold
FROM (
       SELECT 
             CASE WHEN  product LIKE 'Men%' THEN 'Men'
		  WHEN product LIKE 'Women%' THEN 'Women'
             END AS product_by_gender, units_sold
       FROM dbo.TheDataminant_Sales
) 
AS product_by_gender
GROUP BY  product_by_gender
ORDER BY SUM (units_sold) DESC;

```
![Which is most purchased between men’s and women’s product](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/c66a9bcb371e86f01ed5825d4dd1213f94381b52/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/Which%20is%20most%20purchased%20between%20men%E2%80%99s%20and%20women%E2%80%99s%20product.jpg)
 &nbsp;

  &nbsp;
  
### Profitability Analysis

#### What is the difference in profitability by sales methods?
```sql
--What is the difference in profitability by sales methods?

SELECT sales_method, ROUND(AVG(operating_margin * 100),0) AS operating_margin
FROM dbo.TheDataminant_Sales
GROUP BY sales_method
ORDER BY operating_margin DESC;
```
![What is the difference in profitability by sales methods](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/03f846ae5e622d76dff6bb9968ee1650c64033cc/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%20difference%20in%20profitability%20by%20sales%20methods.jpg)
 &nbsp;

  &nbsp;
  
#### What is the profit margin for different products?
```sql\
-- What is the profit margin for different product?

SELECT OM2020.product, 
       OM2020.[2020_operating_margin], 
	   OM2021.[2021_operating_margin]
FROM
    (SELECT
         Product, 
		 AVG(operating_profit / NULLIF(total_sales, 0) * 100) AS '2020_operating_margin'
     FROM dbo.TheDataminant_Sales
     WHERE DATENAME (YEAR, invoice_date) = '2020'
     GROUP BY product ) AS OM2020
JOIN
    (SELECT
         Product, 
		 AVG(operating_profit / NULLIF(total_sales, 0) * 100) AS '2021_operating_margin'
     FROM dbo.TheDataminant_Sales
     WHERE DATENAME (YEAR, invoice_date) = '2021'
     GROUP BY product ) AS OM2021
ON OM2020.product = OM2021.product ;
```
![What is the profit margin for different product](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/0b56d8f72ac2b2a9116eb817d32377d486b35a5c/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%20profit%20margin%20for%20different%20product.jpg)
 &nbsp;

  &nbsp;
  
### Geographical Analysis

#### What is the top 3 regions by sales?
```sql
-- What is the top 3 regions by sales?

SELECT TOP 3 region, SUM(total_sales) AS total_sales
FROM dbo.TheDataminant_Sales
GROUP BY region
ORDER BY SUM(total_sales) DESC
```
![What is the top 3 regions by sales?](https://github.com/Dataminant/Exploratory-Data-Analysis-of-Adidas_US_Sales_Dataset_Using_SQL/blob/0b56d8f72ac2b2a9116eb817d32377d486b35a5c/Exploratory%20Data%20Analysis%20Using%20SQL/Questions/What%20is%20the%20top%203%20regions%20by%20sales.jpg)

